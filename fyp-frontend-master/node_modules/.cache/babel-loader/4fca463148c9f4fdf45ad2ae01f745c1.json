{"remainingRequest":"/home/sashank/Documents/FYP/coffee-supply-chain/front-end/node_modules/babel-loader/lib/index.js!/home/sashank/Documents/FYP/coffee-supply-chain/front-end/node_modules/eslint-loader/index.js??ref--13-0!/home/sashank/Documents/FYP/coffee-supply-chain/front-end/src/assets/fabricClient.js","dependencies":[{"path":"/home/sashank/Documents/FYP/coffee-supply-chain/front-end/src/assets/fabricClient.js","mtime":1592162126797},{"path":"/home/sashank/Documents/FYP/coffee-supply-chain/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1592166926247},{"path":"/home/sashank/Documents/FYP/coffee-supply-chain/front-end/node_modules/babel-loader/lib/index.js","mtime":1592166926227},{"path":"/home/sashank/Documents/FYP/coffee-supply-chain/front-end/node_modules/eslint-loader/index.js","mtime":1592166926419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOyAvLyBCcmluZyBrZXkgY2xhc3NlcyBpbnRvIHNjb3BlLCBtb3N0IGltcG9ydGFudGx5IEZhYnJpYyBTREsgbmV0d29yayBjbGFzcwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiKTsKCnZhciBfYXN5bmNUb0dlbmVyYXRvciA9IHJlcXVpcmUoIi9ob21lL3Nhc2hhbmsvRG9jdW1lbnRzL0ZZUC9jb2ZmZWUtc3VwcGx5LWNoYWluL2Zyb250LWVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIik7Cgp2YXIgZnMgPSByZXF1aXJlKCdmcycpOwoKdmFyIHlhbWwgPSByZXF1aXJlKCdqcy15YW1sJyk7Cgp2YXIgY3JlYXRlQ2xpZW50ID0gcmVxdWlyZSgnLi9jcmVhdGVDbGllbnQuanMnKTsKCnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ2ZhYnJpYy1uZXR3b3JrJyksCiAgICBGaWxlU3lzdGVtV2FsbGV0ID0gX3JlcXVpcmUuRmlsZVN5c3RlbVdhbGxldCwKICAgIEdhdGV3YXkgPSBfcmVxdWlyZS5HYXRld2F5OwoKdmFyIHdhbGxldCA9IG5ldyBGaWxlU3lzdGVtV2FsbGV0KCcuL3dhbGxldCcpOwptb2R1bGUuZXhwb3J0cyA9IHsKICAvKiogCiAgICogRnVuY3Rpb24gdG8gY3JlYXRlIGEgYmF0Y2ggdGhhdCBzdGFydHMgb2ZmIHRoZSBzdXBwbHkgY2hhaW4uCiAgICogQHBhcmFtIHtzdHJpbmd9IGN1bHRpdmF0aW9uRGF0YSB0aGUgYmF0Y2ggZGF0YSB0byBiZSBzdG9yZWQgb24gY3JlYXRpb24KICAgKiBAcmV0dXJucyB7c3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRpbmcgYSB1bmlxdWUgYmF0Y2hJRCB0byBpZGVudGlmeSB0aGUgY3JlYXRlZCBiYXRjaAogICAqLwogIGNyZWF0ZUJhdGNoOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NyZWF0ZUJhdGNoID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGN1bHRpdmF0aW9uRGF0YSkgewogICAgICB2YXIgZ2F0ZXdheSwgdXNlck5hbWUsIGNvbm5lY3Rpb25Qcm9maWxlLCBjb25uZWN0aW9uT3B0aW9ucywgbmV0d29yaywgY29udHJhY3QsIHF1ZXJ5UmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2xpZW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgZ2F0ZXdheSA9IG5ldyBHYXRld2F5KCk7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgdXNlck5hbWUgPSAnQWRtaW5AZmFybWluc3BlY3Rvci5zdXBwbHljaGFpbi5jb20nOwogICAgICAgICAgICAgIGNvbm5lY3Rpb25Qcm9maWxlID0geWFtbC5zYWZlTG9hZChmcy5yZWFkRmlsZVN5bmMoJy4vY29uZmlnLnlhbWwnLCAndXRmOCcpKTsKICAgICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIGlkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIGNsaWVudFRsc0lkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIHdhbGxldDogd2FsbGV0LAogICAgICAgICAgICAgICAgZGlzY292ZXJ5OiB7CiAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgIGFzTG9jYWxob3N0OiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGluZyB0byBGYWJyaWMgZ2F0ZXdheS4nKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIGdhdGV3YXkuY29ubmVjdChjb25uZWN0aW9uUHJvZmlsZSwgY29ubmVjdGlvbk9wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlIG5ldHdvcmsgY2hhbm5lbDogc2NjaGFubmVsLicpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gZ2F0ZXdheS5nZXROZXR3b3JrKCdzY2NoYW5uZWwnKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgbmV0d29yayA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgLy8gR2V0IGFkZHJlc3NhYmlsaXR5IHRvIGNvbW1lcmNpYWwgcGFwZXIgY29udHJhY3QKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlIHN1cHBseWNjIHNtYXJ0IGNvbnRyYWN0LicpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gbmV0d29yay5nZXRDb250cmFjdCgnc3VwcGx5Y2MnKTsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY29udHJhY3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWJtaXQgY3JlYXRlQmF0Y2ggdHJhbnNhY3Rpb24uJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5zdWJtaXRUcmFuc2FjdGlvbignY3JlYXRlQmF0Y2gnLCBjdWx0aXZhdGlvbkRhdGEpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBxdWVyeVJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBKU09OLnBhcnNlKHF1ZXJ5UmVzcG9uc2UudG9TdHJpbmcoKSkpOwoKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgzKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgcHJvY2Vzc2luZyB0cmFuc2FjdGlvbi4gIi5jb25jYXQoX2NvbnRleHQudDApKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5zdGFjayk7CgogICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGlzY29ubmVjdCBmcm9tIEZhYnJpYyBnYXRld2F5LicpOwogICAgICAgICAgICAgIGdhdGV3YXkuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMjkpOwoKICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCAyNSwgMjksIDMzXV0pOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZUJhdGNoKF94KSB7CiAgICAgIHJldHVybiBfY3JlYXRlQmF0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gY3JlYXRlQmF0Y2g7CiAgfSgpLAoKICAvKiogCiAgICogRnVuY3Rpb24gdG8gdXBkYXRlIGRldGFpbHMgZm9yIGV4aXN0aW5nIGJhdGNoIG9mIHRoZSBzdXBwbHkgY2hhaW4KICAgKiBAcGFyYW0ge3N0cmluZ30gYmF0Y2hJRCB0aGUgaWQgb2YgdGhlIGJhdGNoIHRvIGJlIHVwZGF0ZWQKICAgKiBAcGFyYW0ge3N0cmluZ30gbmV4dFN0YWdlIHRoZSBzdGFnZSB0aGF0IGlzIGJlaW5nIHVwZGF0ZWQKICAgKiBAcGFyYW0ge3N0cmluZ30gbmV4dFN0YWdlRGF0YSB0aGUgZGF0YSByZWxhdGluZyB0byB0aGUgc3RhZ2UgdGhhdCBpcyBiZWluZyB1cGRhdGVkCiAgICovCiAgdXBkYXRlQmF0Y2g6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdXBkYXRlQmF0Y2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGJhdGNoSUQsIG5leHRTdGFnZSwgbmV4dFN0YWdlRGF0YSkgewogICAgICB2YXIgZ2F0ZXdheSwgdXNlck5hbWUsIGNvbm5lY3Rpb25Qcm9maWxlLCBjb25uZWN0aW9uT3B0aW9ucywgbmV0d29yaywgY29udHJhY3QsIHF1ZXJ5UmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDbGllbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBnYXRld2F5ID0gbmV3IEdhdGV3YXkoKTsKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDM7CiAgICAgICAgICAgICAgdXNlck5hbWUgPSAnQWRtaW5AZmFybWluc3BlY3Rvci5zdXBwbHljaGFpbi5jb20nOwogICAgICAgICAgICAgIGNvbm5lY3Rpb25Qcm9maWxlID0geWFtbC5zYWZlTG9hZChmcy5yZWFkRmlsZVN5bmMoJy4vY29uZmlnLnlhbWwnLCAndXRmOCcpKTsKICAgICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIGlkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIGNsaWVudFRsc0lkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIHdhbGxldDogd2FsbGV0LAogICAgICAgICAgICAgICAgZGlzY292ZXJ5OiB7CiAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgIGFzTG9jYWxob3N0OiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGluZyB0byBGYWJyaWMgZ2F0ZXdheS4nKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBnYXRld2F5LmNvbm5lY3QoY29ubmVjdGlvblByb2ZpbGUsIGNvbm5lY3Rpb25PcHRpb25zKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZSBuZXR3b3JrIGNoYW5uZWw6IHNjY2hhbm5lbC4nKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBnYXRld2F5LmdldE5ldHdvcmsoJ3NjY2hhbm5lbCcpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBuZXR3b3JrID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgLy8gR2V0IGFkZHJlc3NhYmlsaXR5IHRvIGNvbW1lcmNpYWwgcGFwZXIgY29udHJhY3QKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlIHN1cHBseWNjIHNtYXJ0IGNvbnRyYWN0LicpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldHdvcmsuZ2V0Q29udHJhY3QoJ3N1cHBseWNjJyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1Ym1pdCB1cGRhdGVCYXRjaCB0cmFuc2FjdGlvbi4nKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5zdWJtaXRUcmFuc2FjdGlvbigndXBkYXRlQmF0Y2gnLCBiYXRjaElELCBuZXh0U3RhZ2UsIG5leHRTdGFnZURhdGEpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBxdWVyeVJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIEpTT04ucGFyc2UocXVlcnlSZXNwb25zZS50b1N0cmluZygpKSk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBwcm9jZXNzaW5nIHRyYW5zYWN0aW9uLiAiLmNvbmNhdChfY29udGV4dDIudDApKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDAuc3RhY2spOwoKICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI5OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEaXNjb25uZWN0IGZyb20gRmFicmljIGdhdGV3YXkuJyk7CiAgICAgICAgICAgICAgZ2F0ZXdheS5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMjkpOwoKICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzMsIDI1LCAyOSwgMzNdXSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gdXBkYXRlQmF0Y2goX3gyLCBfeDMsIF94NCkgewogICAgICByZXR1cm4gX3VwZGF0ZUJhdGNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIHVwZGF0ZUJhdGNoOwogIH0oKSwKCiAgLyoqIAogICAqIGZ1bmN0aW9uIHRoZSBmZXRjaCBkZXRhaWxzIG9mIG9uZSBiYXRjaAogICAqIEBwYXJhbSB7c3RyaW5nfSBiYXRjaElEIHRoZSBpZCBvZiB0aGUgYmF0Y2ggdG8gYmUgcXVlcmllZAogICAqIEByZXR1cm5zIEEganNvbiBvYmplY3Qgd2l0aCBkYXRhIGZyb20gYWxsIHN0YWdlcyBmb3IgdGhlIHBhcnRpY3VsYXIgYmF0Y2gKICAgKi8KICBxdWVyeUJhdGNoOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX3F1ZXJ5QmF0Y2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGJhdGNoSUQpIHsKICAgICAgdmFyIGdhdGV3YXksIHVzZXJOYW1lLCBjb25uZWN0aW9uUHJvZmlsZSwgY29ubmVjdGlvbk9wdGlvbnMsIG5ldHdvcmssIGNvbnRyYWN0LCBxdWVyeVJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2xpZW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgZ2F0ZXdheSA9IG5ldyBHYXRld2F5KCk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzOwogICAgICAgICAgICAgIHVzZXJOYW1lID0gJ0FkbWluQGZhcm1pbnNwZWN0b3Iuc3VwcGx5Y2hhaW4uY29tJzsKICAgICAgICAgICAgICBjb25uZWN0aW9uUHJvZmlsZSA9IHlhbWwuc2FmZUxvYWQoZnMucmVhZEZpbGVTeW5jKCcuL2NvbmZpZy55YW1sJywgJ3V0ZjgnKSk7CiAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBpZGVudGl0eTogdXNlck5hbWUsCiAgICAgICAgICAgICAgICBjbGllbnRUbHNJZGVudGl0eTogdXNlck5hbWUsCiAgICAgICAgICAgICAgICB3YWxsZXQ6IHdhbGxldCwKICAgICAgICAgICAgICAgIGRpc2NvdmVyeTogewogICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgICBhc0xvY2FsaG9zdDogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RpbmcgdG8gRmFicmljIGdhdGV3YXkuJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gZ2F0ZXdheS5jb25uZWN0KGNvbm5lY3Rpb25Qcm9maWxlLCBjb25uZWN0aW9uT3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2UgbmV0d29yayBjaGFubmVsOiBzY2NoYW5uZWwuJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gZ2F0ZXdheS5nZXROZXR3b3JrKCdzY2NoYW5uZWwnKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgbmV0d29yayA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIC8vIEdldCBhZGRyZXNzYWJpbGl0eSB0byBjb21tZXJjaWFsIHBhcGVyIGNvbnRyYWN0CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZSBzdXBwbHljYyBzbWFydCBjb250cmFjdC4nKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgIHJldHVybiBuZXR3b3JrLmdldENvbnRyYWN0KCdzdXBwbHljYycpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmFsdWF0ZSBRdWVyeUJhdGNoIHRyYW5zYWN0aW9uLicpOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LmV2YWx1YXRlVHJhbnNhY3Rpb24oJ3F1ZXJ5QmF0Y2gnLCBiYXRjaElEKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgcXVlcnlSZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBKU09OLnBhcnNlKHF1ZXJ5UmVzcG9uc2UudG9TdHJpbmcoKSkpOwoKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI1OwogICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgzKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgcHJvY2Vzc2luZyB0cmFuc2FjdGlvbi4gIi5jb25jYXQoX2NvbnRleHQzLnQwKSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQzLnQwLnN0YWNrKTsKCiAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGlzY29ubmVjdCBmcm9tIEZhYnJpYyBnYXRld2F5LicpOwogICAgICAgICAgICAgIGdhdGV3YXkuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuZmluaXNoKDI5KTsKCiAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1szLCAyNSwgMjksIDMzXV0pOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIHF1ZXJ5QmF0Y2goX3g1KSB7CiAgICAgIHJldHVybiBfcXVlcnlCYXRjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBxdWVyeUJhdGNoOwogIH0oKSwKCiAgLyoqCiAgICogRnVuY3Rpb24gdG8gcXVlcnkgbGlzdCBvZiBhbGwgZXhpc3RpbmcgYmF0Y2hlcwogICAqIEByZXR1cm5zIEEganNvbiBhcnJheSB3aXRoIHRoZSBsaXN0IG9mIGFsbCBiYXRjaGVzCiAgICovCiAgcXVlcnlCYXRjaExpc3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcXVlcnlCYXRjaExpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgZ2F0ZXdheSwgdXNlck5hbWUsIGNvbm5lY3Rpb25Qcm9maWxlLCBjb25uZWN0aW9uT3B0aW9ucywgbmV0d29yaywgY29udHJhY3QsIHF1ZXJ5UmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDbGllbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBnYXRld2F5ID0gbmV3IEdhdGV3YXkoKTsKICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDM7CiAgICAgICAgICAgICAgdXNlck5hbWUgPSAnQWRtaW5AZmFybWluc3BlY3Rvci5zdXBwbHljaGFpbi5jb20nOwogICAgICAgICAgICAgIGNvbm5lY3Rpb25Qcm9maWxlID0geWFtbC5zYWZlTG9hZChmcy5yZWFkRmlsZVN5bmMoJy4vY29uZmlnLnlhbWwnLCAndXRmOCcpKTsKICAgICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIGlkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIGNsaWVudFRsc0lkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIHdhbGxldDogd2FsbGV0LAogICAgICAgICAgICAgICAgZGlzY292ZXJ5OiB7CiAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgIGFzTG9jYWxob3N0OiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGluZyB0byBGYWJyaWMgZ2F0ZXdheS4nKTsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBnYXRld2F5LmNvbm5lY3QoY29ubmVjdGlvblByb2ZpbGUsIGNvbm5lY3Rpb25PcHRpb25zKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZSBuZXR3b3JrIGNoYW5uZWw6IHNjY2hhbm5lbC4nKTsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBnYXRld2F5LmdldE5ldHdvcmsoJ3NjY2hhbm5lbCcpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBuZXR3b3JrID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgLy8gR2V0IGFkZHJlc3NhYmlsaXR5IHRvIGNvbW1lcmNpYWwgcGFwZXIgY29udHJhY3QKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlIHN1cHBseWNjIHNtYXJ0IGNvbnRyYWN0LicpOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldHdvcmsuZ2V0Q29udHJhY3QoJ3N1cHBseWNjJyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0V2YWx1YXRlIFF1ZXJ5QmF0Y2hMaXN0IHRyYW5zYWN0aW9uLicpOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LmV2YWx1YXRlVHJhbnNhY3Rpb24oJ3F1ZXJ5QmF0Y2hMaXN0Jyk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIHF1ZXJ5UmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgSlNPTi5wYXJzZShxdWVyeVJlc3BvbnNlLnRvU3RyaW5nKCkpKTsKCiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAyNTsKICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIHByb2Nlc3NpbmcgdHJhbnNhY3Rpb24uICIuY29uY2F0KF9jb250ZXh0NC50MCkpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0NC50MC5zdGFjayk7CgogICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Rpc2Nvbm5lY3QgZnJvbSBGYWJyaWMgZ2F0ZXdheS4nKTsKICAgICAgICAgICAgICBnYXRld2F5LmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmZpbmlzaCgyOSk7CgogICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQsIG51bGwsIFtbMywgMjUsIDI5LCAzM11dKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBxdWVyeUJhdGNoTGlzdCgpIHsKICAgICAgcmV0dXJuIF9xdWVyeUJhdGNoTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBxdWVyeUJhdGNoTGlzdDsKICB9KCksCgogIC8qKgogICAqIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGJhdGNoIHVzaW5nIGhhcmRjb2RlZCBkYXRhCiAgICovCiAgdGVzdENyZWF0ZTogZnVuY3Rpb24gKCkgewogICAgdmFyIF90ZXN0Q3JlYXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIGdhdGV3YXksIHVzZXJOYW1lLCBjb25uZWN0aW9uUHJvZmlsZSwgY29ubmVjdGlvbk9wdGlvbnMsIG5ldHdvcmssIGNvbnRyYWN0LCBxdWVyeVJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2xpZW50KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgZ2F0ZXdheSA9IG5ldyBHYXRld2F5KCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAzOwogICAgICAgICAgICAgIHVzZXJOYW1lID0gJ0FkbWluQGZhcm1pbnNwZWN0b3Iuc3VwcGx5Y2hhaW4uY29tJzsKICAgICAgICAgICAgICBjb25uZWN0aW9uUHJvZmlsZSA9IHlhbWwuc2FmZUxvYWQoZnMucmVhZEZpbGVTeW5jKCcuL2NvbmZpZy55YW1sJywgJ3V0ZjgnKSk7CiAgICAgICAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBpZGVudGl0eTogdXNlck5hbWUsCiAgICAgICAgICAgICAgICB3YWxsZXQ6IHdhbGxldCwKICAgICAgICAgICAgICAgIGRpc2NvdmVyeTogewogICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgICAgICAgICBhc0xvY2FsaG9zdDogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RpbmcgdG8gRmFicmljIGdhdGV3YXkuJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gZ2F0ZXdheS5jb25uZWN0KGNvbm5lY3Rpb25Qcm9maWxlLCBjb25uZWN0aW9uT3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2UgbmV0d29yayBjaGFubmVsOiBzY2NoYW5uZWwuJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gZ2F0ZXdheS5nZXROZXR3b3JrKCdzY2NoYW5uZWwnKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgbmV0d29yayA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgIC8vIEdldCBhZGRyZXNzYWJpbGl0eSB0byBjb21tZXJjaWFsIHBhcGVyIGNvbnRyYWN0CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZSBzdXBwbHljYyBzbWFydCBjb250cmFjdC4nKTsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE3OwogICAgICAgICAgICAgIHJldHVybiBuZXR3b3JrLmdldENvbnRyYWN0KCdzdXBwbHljYycpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjb250cmFjdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWJtaXQgdGVzdENyZWF0ZSB0cmFuc2FjdGlvbi4nKTsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIxOwogICAgICAgICAgICAgIHJldHVybiBjb250cmFjdC5zdWJtaXRUcmFuc2FjdGlvbigndGVzdENyZWF0ZScpOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBxdWVyeVJlc3BvbnNlID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIEpTT04ucGFyc2UocXVlcnlSZXNwb25zZS50b1N0cmluZygpKSk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMjU7CiAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBwcm9jZXNzaW5nIHRyYW5zYWN0aW9uLiAiLmNvbmNhdChfY29udGV4dDUudDApKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDUudDAuc3RhY2spOwoKICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDI5OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEaXNjb25uZWN0IGZyb20gRmFicmljIGdhdGV3YXkuJyk7CiAgICAgICAgICAgICAgZ2F0ZXdheS5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5maW5pc2goMjkpOwoKICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzMsIDI1LCAyOSwgMzNdXSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gdGVzdENyZWF0ZSgpIHsKICAgICAgcmV0dXJuIF90ZXN0Q3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIHRlc3RDcmVhdGU7CiAgfSgpLAoKICAvKioKICAgKiBGdW5jdGlvbiB0byB1cGRhdGUgYSBiYXRjaCB1c2luZyBoYXJkY29kZWQgZGF0YQogICAqIEBwYXJhbSB7c3RyaW5nfSBiYXRjaElEIHRoZSBpZCBvZiB0aGUgYmF0Y2ggdG8gYmUgdXBkYXRlZAogICAqLwogIHRlc3RVcGRhdGU6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfdGVzdFVwZGF0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoYmF0Y2hJRCkgewogICAgICB2YXIgZ2F0ZXdheSwgdXNlck5hbWUsIGNvbm5lY3Rpb25Qcm9maWxlLCBjb25uZWN0aW9uT3B0aW9ucywgbmV0d29yaywgY29udHJhY3QsIHF1ZXJ5UmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDbGllbnQoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBnYXRld2F5ID0gbmV3IEdhdGV3YXkoKTsKICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDM7CiAgICAgICAgICAgICAgdXNlck5hbWUgPSAnQWRtaW5AZmFybWluc3BlY3Rvci5zdXBwbHljaGFpbi5jb20nOwogICAgICAgICAgICAgIGNvbm5lY3Rpb25Qcm9maWxlID0geWFtbC5zYWZlTG9hZChmcy5yZWFkRmlsZVN5bmMoJy4vY29uZmlnLnlhbWwnLCAndXRmOCcpKTsKICAgICAgICAgICAgICBjb25uZWN0aW9uT3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIGlkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIGNsaWVudFRsc0lkZW50aXR5OiB1c2VyTmFtZSwKICAgICAgICAgICAgICAgIHdhbGxldDogd2FsbGV0LAogICAgICAgICAgICAgICAgZGlzY292ZXJ5OiB7CiAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgIGFzTG9jYWxob3N0OiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGluZyB0byBGYWJyaWMgZ2F0ZXdheS4nKTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBnYXRld2F5LmNvbm5lY3QoY29ubmVjdGlvblByb2ZpbGUsIGNvbm5lY3Rpb25PcHRpb25zKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZSBuZXR3b3JrIGNoYW5uZWw6IHNjY2hhbm5lbC4nKTsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBnYXRld2F5LmdldE5ldHdvcmsoJ3NjY2hhbm5lbCcpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBuZXR3b3JrID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgLy8gR2V0IGFkZHJlc3NhYmlsaXR5IHRvIGNvbW1lcmNpYWwgcGFwZXIgY29udHJhY3QKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlIHN1cHBseWNjIHNtYXJ0IGNvbnRyYWN0LicpOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldHdvcmsuZ2V0Q29udHJhY3QoJ3N1cHBseWNjJyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNvbnRyYWN0ID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1Ym1pdCB0ZXN0VXBkYXRlIHRyYW5zYWN0aW9uLicpOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyYWN0LnN1Ym1pdFRyYW5zYWN0aW9uKCd0ZXN0VXBkYXRlJywgYmF0Y2hJRCk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIHF1ZXJ5UmVzcG9uc2UgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgSlNPTi5wYXJzZShxdWVyeVJlc3BvbnNlLnRvU3RyaW5nKCkpKTsKCiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAyNTsKICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIHByb2Nlc3NpbmcgdHJhbnNhY3Rpb24uICIuY29uY2F0KF9jb250ZXh0Ni50MCkpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Ni50MC5zdGFjayk7CgogICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Rpc2Nvbm5lY3QgZnJvbSBGYWJyaWMgZ2F0ZXdheS4nKTsKICAgICAgICAgICAgICBnYXRld2F5LmRpc2Nvbm5lY3QoKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmZpbmlzaCgyOSk7CgogICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTYsIG51bGwsIFtbMywgMjUsIDI5LCAzM11dKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiB0ZXN0VXBkYXRlKF94NikgewogICAgICByZXR1cm4gX3Rlc3RVcGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gdGVzdFVwZGF0ZTsKICB9KCkKfTs="},{"version":3,"sources":["/home/sashank/Documents/FYP/coffee-supply-chain/front-end/src/assets/fabricClient.js"],"names":["fs","require","yaml","createClient","FileSystemWallet","Gateway","wallet","module","exports","createBatch","cultivationData","gateway","userName","connectionProfile","safeLoad","readFileSync","connectionOptions","identity","clientTlsIdentity","discovery","enabled","asLocalhost","console","log","connect","getNetwork","network","getContract","contract","submitTransaction","queryResponse","JSON","parse","toString","stack","disconnect","updateBatch","batchID","nextStage","nextStageData","queryBatch","evaluateTransaction","queryBatchList","testCreate","testUpdate"],"mappings":"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","sourcesContent":["'use strict';\n\n// Bring key classes into scope, most importantly Fabric SDK network class\nconst fs = require('fs');\nconst yaml = require('js-yaml');\nconst createClient = require('./createClient.js')\nconst { FileSystemWallet, Gateway } = require('fabric-network');\nconst wallet = new FileSystemWallet('./wallet');\n\nmodule.exports = {\n    /** \n     * Function to create a batch that starts off the supply chain.\n     * @param {string} cultivationData the batch data to be stored on creation\n     * @returns {string} a string representing a unique batchID to identify the created batch\n     */\n    createBatch: async (cultivationData) => {\n        await createClient();\n        const gateway = new Gateway();\n\n        try {\n            const userName = 'Admin@farminspector.supplychain.com'\n            let connectionProfile = yaml.safeLoad(fs.readFileSync('./config.yaml', 'utf8'));\n            let connectionOptions = {\n                identity: userName,\n                clientTlsIdentity: userName,\n                wallet: wallet,\n                discovery: { enabled: true, asLocalhost: true }\n            };\n\n            console.log('Connecting to Fabric gateway.');\n            await gateway.connect(connectionProfile, connectionOptions);\n\n            console.log('Use network channel: scchannel.');\n            const network = await gateway.getNetwork('scchannel');\n\n            // Get addressability to commercial paper contract\n            console.log('Use supplycc smart contract.');\n            const contract = await network.getContract('supplycc');\n\n            console.log('Submit createBatch transaction.');\n            const queryResponse = await contract.submitTransaction('createBatch', cultivationData);\n            return JSON.parse(queryResponse.toString());\n\n        } catch (error) {\n            console.log(`Error processing transaction. ${error}`);\n            console.log(error.stack);\n        } finally {\n            console.log('Disconnect from Fabric gateway.');\n            gateway.disconnect();\n        }\n    },\n\n    /** \n     * Function to update details for existing batch of the supply chain\n     * @param {string} batchID the id of the batch to be updated\n     * @param {string} nextStage the stage that is being updated\n     * @param {string} nextStageData the data relating to the stage that is being updated\n     */\n    updateBatch: async (batchID, nextStage, nextStageData) => {\n        await createClient();\n        const gateway = new Gateway();\n\n        try {\n            const userName = 'Admin@farminspector.supplychain.com'\n            let connectionProfile = yaml.safeLoad(fs.readFileSync('./config.yaml', 'utf8'));\n            let connectionOptions = {\n                identity: userName,\n                clientTlsIdentity: userName,\n                wallet: wallet,\n                discovery: { enabled: true, asLocalhost: true }\n            };\n\n            console.log('Connecting to Fabric gateway.');\n            await gateway.connect(connectionProfile, connectionOptions);\n\n            console.log('Use network channel: scchannel.');\n            const network = await gateway.getNetwork('scchannel');\n\n            // Get addressability to commercial paper contract\n            console.log('Use supplycc smart contract.');\n            const contract = await network.getContract('supplycc');\n\n            console.log('Submit updateBatch transaction.');\n            const queryResponse = await contract.submitTransaction('updateBatch', batchID, nextStage, nextStageData);\n            return JSON.parse(queryResponse.toString());\n        } catch (error) {\n            console.log(`Error processing transaction. ${error}`);\n            console.log(error.stack);\n        } finally {\n            console.log('Disconnect from Fabric gateway.');\n            gateway.disconnect();\n        }\n    },\n\n    /** \n     * function the fetch details of one batch\n     * @param {string} batchID the id of the batch to be queried\n     * @returns A json object with data from all stages for the particular batch\n     */\n    queryBatch: async (batchID) => {\n        await createClient();\n        const gateway = new Gateway();\n\n        try {\n            const userName = 'Admin@farminspector.supplychain.com'\n            let connectionProfile = yaml.safeLoad(fs.readFileSync('./config.yaml', 'utf8'));\n            let connectionOptions = {\n                identity: userName,\n                clientTlsIdentity: userName,\n                wallet: wallet,\n                discovery: { enabled: true, asLocalhost: true }\n            };\n\n            console.log('Connecting to Fabric gateway.');\n            await gateway.connect(connectionProfile, connectionOptions);\n\n            console.log('Use network channel: scchannel.');\n            const network = await gateway.getNetwork('scchannel');\n\n            // Get addressability to commercial paper contract\n            console.log('Use supplycc smart contract.');\n            const contract = await network.getContract('supplycc');\n\n            console.log('Evaluate QueryBatch transaction.');\n            const queryResponse = await contract.evaluateTransaction('queryBatch', batchID);\n            return JSON.parse(queryResponse.toString())\n\n        } catch (error) {\n            console.log(`Error processing transaction. ${error}`);\n            console.log(error.stack);\n        } finally {\n            console.log('Disconnect from Fabric gateway.');\n            gateway.disconnect();\n        }\n    },\n\n    /**\n     * Function to query list of all existing batches\n     * @returns A json array with the list of all batches\n     */\n    queryBatchList: async () => {\n        await createClient();\n        const gateway = new Gateway();\n\n        try {\n            const userName = 'Admin@farminspector.supplychain.com'\n            let connectionProfile = yaml.safeLoad(fs.readFileSync('./config.yaml', 'utf8'));\n            let connectionOptions = {\n                identity: userName,\n                clientTlsIdentity: userName,\n                wallet: wallet,\n                discovery: { enabled: true, asLocalhost: true }\n            };\n\n            console.log('Connecting to Fabric gateway.');\n            await gateway.connect(connectionProfile, connectionOptions);\n\n            console.log('Use network channel: scchannel.');\n            const network = await gateway.getNetwork('scchannel');\n\n            // Get addressability to commercial paper contract\n            console.log('Use supplycc smart contract.');\n            const contract = await network.getContract('supplycc');\n\n            console.log('Evaluate QueryBatchList transaction.');\n            const queryResponse = await contract.evaluateTransaction('queryBatchList');\n            return JSON.parse(queryResponse.toString());\n\n        } catch (error) {\n            console.log(`Error processing transaction. ${error}`);\n            console.log(error.stack);\n        } finally {\n            console.log('Disconnect from Fabric gateway.');\n            gateway.disconnect();\n        }\n    },\n\n    /**\n     * Function to create a batch using hardcoded data\n     */\n    testCreate: async () => {\n        await createClient();\n        const gateway = new Gateway();\n\n        try {\n            const userName = 'Admin@farminspector.supplychain.com'\n            let connectionProfile = yaml.safeLoad(fs.readFileSync('./config.yaml', 'utf8'));\n            let connectionOptions = {\n                identity: userName,\n                wallet: wallet,\n                discovery: { enabled: true, asLocalhost: true }\n            };\n\n            console.log('Connecting to Fabric gateway.');\n            await gateway.connect(connectionProfile, connectionOptions);\n\n            console.log('Use network channel: scchannel.');\n            const network = await gateway.getNetwork('scchannel');\n\n            // Get addressability to commercial paper contract\n            console.log('Use supplycc smart contract.');\n            const contract = await network.getContract('supplycc');\n\n            console.log('submit testCreate transaction.');\n            const queryResponse = await contract.submitTransaction('testCreate');\n            return JSON.parse(queryResponse.toString());\n\n        } catch (error) {\n            console.log(`Error processing transaction. ${error}`);\n            console.log(error.stack);\n        } finally {\n            console.log('Disconnect from Fabric gateway.');\n            gateway.disconnect();\n        }\n    },\n\n    /**\n     * Function to update a batch using hardcoded data\n     * @param {string} batchID the id of the batch to be updated\n     */\n    testUpdate: async (batchID) => {\n        await createClient();\n        const gateway = new Gateway();\n\n        try {\n            const userName = 'Admin@farminspector.supplychain.com'\n            let connectionProfile = yaml.safeLoad(fs.readFileSync('./config.yaml', 'utf8'));\n            let connectionOptions = {\n                identity: userName,\n                clientTlsIdentity: userName,\n                wallet: wallet,\n                discovery: { enabled: true, asLocalhost: true }\n            };\n\n            console.log('Connecting to Fabric gateway.');\n            await gateway.connect(connectionProfile, connectionOptions);\n\n            console.log('Use network channel: scchannel.');\n            const network = await gateway.getNetwork('scchannel');\n\n            // Get addressability to commercial paper contract\n            console.log('Use supplycc smart contract.');\n            const contract = await network.getContract('supplycc');\n\n            console.log('Submit testUpdate transaction.');\n            const queryResponse = await contract.submitTransaction('testUpdate', batchID);\n            return JSON.parse(queryResponse.toString());\n\n        } catch (error) {\n            console.log(`Error processing transaction. ${error}`);\n            console.log(error.stack);\n        } finally {\n            console.log('Disconnect from Fabric gateway.');\n            gateway.disconnect();\n        }\n    }\n}"]}]}